<head>
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/grids-responsive-min.css"/>
    
    <link rel="stylesheet" href="/style/body.css">
    <link rel="stylesheet" href="/style/background.css">
    <link rel="stylesheet" href="/style/text.css">
    <link rel="stylesheet" href="/style/hljs.css">

    <link rel="stylesheet" href="/style/components/main-menu.css">
    <link rel="stylesheet" href="/style/components/wiki-box.css">
    <link rel="stylesheet" href="/style/components/wiki-path.css">
    <link rel="stylesheet" href="/style/components/wiki-command.css">
    <link rel="stylesheet" href="/style/components/wiki-quote.css">
    <link rel="stylesheet" href="/style/components/wiki-info.css">
    <link rel="stylesheet" href="/style/components/wiki-warning.css">
    
    <link rel="icon" type = "image/png" href="/image/logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>DNS</title>
</head>

<body class="background-wiki">
    <documentation-menu></documentation-menu>

    <div class="content-main">
        <div class="content-section">
            <h class="text-heading-big">DNS</h>
        </div>
        
        <wiki-box>
            <h2>Overview</h2>
            <p>
                DNS is the way that your computer converts URLs into IP addresses. A DNS server stores records about what IP each URL maps to, and when a client wants to contact that URL, they make a request to their chosen DNS servers. DNS servers propagate DNS data between each other so it may take some time for information to update after you change it. Our DNS setup involves two domains: metamechanists.org and obelisk.game-server.cc. The obelisk.game-server.cc domain is owned by Void. Its sole purpose is to redirect all requests on all ports to Void's machine, as the machine does not have a static IP. This means any DNS records that intend to point to the machine should point to obelisk.game-server.cc (or the Cloudflare Tunnel).<br><br>

                If DNS records need to be updated, ask Idra. They must be modified via the MetaMechanists Cloudflare account, which only I (Idra) have access to. 
            </p>
            
            <h2>DNS Records</h2>
            <ul>
                <li>
                    <b>The 'discord' record</b> redirects to an invite link to the Discord server. This is currently done via a a Page Rule, as redirects of this kind do not appear to be possible purely with DNS.
                </li>

                <li>
                    <b>The CNAME records</b> all point to the Cloudflare Tunnel entry point (with one exception). These are all web resources that need to be accessed from various subdomains, such as map.metamechanists.org or analytics.metamechanists.org. These records all have the 'proxied' status which means that the request is sent to Cloudflare's servers before it is sent to the DNS target. This allows Cloudflare to mitigate DDoS attacks and cache/optimise requests. However, it should be noted that this presents a centralised point that all data flows through, which is a weakness as it allows for centralised surveillance, and the resources that these records point to will become inaccessible should Cloudflare's servers go down.
                </li>

                <li>
                    <b>The SRV records</b> redirect requests on a specific port. This is how all the game server subdomains work. They redirect to obelisk.game-server.cc, which then redirects them to the machine. These requests go directly through Void's firewall and are not tunneled.
                </li>

                <li>
                    <b>The remaining records</b> are likely auto-generated by Cloudflare and shouldn't be tampered with.
                </li>
            </ul>
        </wiki-box>
    </div>
    
    <script src="/components/documentation-menu.js"></script>
    <script src="/components/wiki-box.js"></script>
    <script src="/components/wiki-path.js"></script>
    <script src="/components/wiki-command.js"></script>
    <script src="/components/wiki-code.js"></script>
    <script src="/components/wiki-quote.js"></script>
    <script src="/components/wiki-info.js"></script>
    <script src="/components/wiki-warning.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>
        feather.replace({ class: 'feather', 'stroke-width': 1 })
        hljs.highlightAll();
    </script>

</body>